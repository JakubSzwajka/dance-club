{"openapi": "3.1.0", "info": {"title": "NinjaAPI", "version": "1.0.0", "description": ""}, "paths": {"/api/auth/signup": {"post": {"operationId": "mydanceclub_api_private_auth_signup", "summary": "Signup", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TokenResponse"}}}}}, "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SignupSchema"}}}, "required": true}}}, "/api/auth/login": {"post": {"operationId": "mydanceclub_api_private_auth_login", "summary": "Login", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TokenResponse"}}}}}, "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/LoginSchema"}}}, "required": true}}}, "/api/auth/me": {"get": {"operationId": "mydanceclub_api_private_auth_me", "summary": "Me", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPrivateSchema"}}}}}, "security": [{"AuthBearer": []}]}}, "/api/public/classes": {"get": {"operationId": "mydanceclub_api_public_classes_get_classes", "summary": "Get Classes", "parameters": [{"in": "query", "name": "instructor_id", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Instructor Id"}, "required": false}, {"in": "query", "name": "location_id", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Location Id"}, "required": false}, {"in": "query", "name": "style", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Style"}, "required": false}, {"in": "query", "name": "level", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Level"}, "required": false}, {"in": "query", "name": "start_date", "schema": {"anyOf": [{"format": "date", "type": "string"}, {"type": "null"}], "title": "Start Date"}, "required": false}, {"in": "query", "name": "end_date", "schema": {"anyOf": [{"format": "date", "type": "string"}, {"type": "null"}], "title": "End Date"}, "required": false}, {"in": "query", "name": "min_rating", "schema": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Min Rating"}, "required": false}, {"in": "query", "name": "sort_by", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Sort By"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/DanceClassSchema"}, "title": "Response", "type": "array"}}}}}, "description": "Get all classes with filters"}}, "/api/public/classes/{class_id}": {"get": {"operationId": "mydanceclub_api_public_classes_get_class", "summary": "Get Class", "parameters": [{"in": "path", "name": "class_id", "schema": {"title": "Class Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DanceClassSchema"}}}}}, "description": "Get a class by ID"}}, "/api/public/classes/{class_id}/stats": {"get": {"operationId": "mydanceclub_api_public_classes_get_class_stats", "summary": "Get Class Stats", "parameters": [{"in": "path", "name": "class_id", "schema": {"title": "Class Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReviewAggregatedDanceClassStatsSchema"}}}}}, "description": "Get comprehensive review statistics for a class"}}, "/api/public/classes/{class_id}/reviews": {"get": {"operationId": "mydanceclub_api_public_classes_get_class_reviews", "summary": "Get Class Reviews", "parameters": [{"in": "path", "name": "class_id", "schema": {"title": "Class Id", "type": "string"}, "required": true}, {"in": "query", "name": "page", "schema": {"default": 1, "title": "Page", "type": "integer"}, "required": false}, {"in": "query", "name": "page_size", "schema": {"default": 10, "title": "Page Size", "type": "integer"}, "required": false}, {"in": "query", "name": "sort_by", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Sort By"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReviewListSchema_ReviewDanceClassStatsSchema_"}}}}}, "description": "Get paginated reviews for a specific class"}}, "/api/public/instructors": {"get": {"operationId": "mydanceclub_api_public_instructors_get_instructors", "summary": "Get Instructors", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/InstructorPublicSchema"}, "title": "Response", "type": "array"}}}}}, "description": "Get all instructors"}}, "/api/public/instructors/{instructor_id}": {"get": {"operationId": "mydanceclub_api_public_instructors_get_instructor", "summary": "Get Instructor", "parameters": [{"in": "path", "name": "instructor_id", "schema": {"title": "Instructor Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InstructorPublicSchema"}}}}}, "description": "Get an instructor by ID"}}, "/api/public/instructors/{instructor_id}/classes": {"get": {"operationId": "mydanceclub_api_public_instructors_get_instructor_classes", "summary": "Get Instructor Classes", "parameters": [{"in": "path", "name": "instructor_id", "schema": {"title": "Instructor Id", "type": "string"}, "required": true}, {"in": "query", "name": "include_past", "schema": {"default": false, "title": "Include Past", "type": "boolean"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/DanceClassSchema"}, "title": "Response", "type": "array"}}}}}, "description": "Get all classes by an instructor"}}, "/api/public/instructors/{instructor_id}/stats": {"get": {"operationId": "mydanceclub_api_public_instructors_get_instructor_stats", "summary": "Get Instructor Stats", "parameters": [{"in": "path", "name": "instructor_id", "schema": {"title": "Instructor Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReviewAggregatedInstructorStatsSchema"}}}}}, "description": "Get stats for an instructor"}}, "/api/public/locations": {"get": {"operationId": "mydanceclub_api_public_locations_get_locations", "summary": "Get Locations", "parameters": [{"in": "query", "name": "has_active_classes", "schema": {"default": true, "title": "Has Active Classes", "type": "boolean"}, "required": false}, {"in": "query", "name": "latitude", "schema": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Latitude"}, "required": false}, {"in": "query", "name": "longitude", "schema": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Longitude"}, "required": false}, {"in": "query", "name": "dance_style", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Dance Style"}, "required": false}, {"in": "query", "name": "level", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Level"}, "required": false}, {"in": "query", "name": "min_classes", "schema": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Min Classes"}, "required": false}, {"in": "query", "name": "min_rating", "schema": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Min Rating"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/LocationSchema"}, "title": "Response", "type": "array"}}}}}, "description": "Get locations, optionally filtered to those with active classes"}}, "/api/public/locations/nearby": {"get": {"operationId": "mydanceclub_api_public_locations_get_locations_nearby", "summary": "Get Locations Nearby", "parameters": [{"in": "query", "name": "has_active_classes", "schema": {"default": true, "title": "Has Active Classes", "type": "boolean"}, "required": false}, {"in": "query", "name": "latitude", "schema": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Latitude"}, "required": false}, {"in": "query", "name": "longitude", "schema": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Longitude"}, "required": false}, {"in": "query", "name": "dance_style", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Dance Style"}, "required": false}, {"in": "query", "name": "level", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Level"}, "required": false}, {"in": "query", "name": "min_classes", "schema": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Min Classes"}, "required": false}, {"in": "query", "name": "min_location_rating", "schema": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Min Location Rating"}, "required": false}, {"in": "query", "name": "min_instructor_rating", "schema": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Min Instructor Rating"}, "required": false}, {"in": "query", "name": "min_class_rating", "schema": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Min Class Rating"}, "required": false}, {"in": "query", "name": "radius_km", "schema": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Radius Km"}, "required": false}, {"in": "query", "name": "facility", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Facility"}, "required": false}, {"in": "query", "name": "sports_card", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Sports Card"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/LocationSchema"}, "title": "Response", "type": "array"}}}}}, "description": "Get locations, optionally filtered to those with active classes"}}, "/api/public/locations/{location_id}": {"get": {"operationId": "mydanceclub_api_public_locations_get_location", "summary": "Get Location", "parameters": [{"in": "path", "name": "location_id", "schema": {"title": "Location Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/LocationSchema"}}}}}}}, "/api/public/locations/{location_id}/classes": {"get": {"operationId": "mydanceclub_api_public_locations_get_location_classes", "summary": "Get Location Classes", "parameters": [{"in": "path", "name": "location_id", "schema": {"title": "Location Id", "type": "string"}, "required": true}, {"in": "query", "name": "include_past", "schema": {"default": false, "title": "Include Past", "type": "boolean"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/DanceClassSchema"}, "title": "Response", "type": "array"}}}}}, "description": "Get all classes at a location"}}, "/api/public/locations/{location_id}/stats": {"get": {"operationId": "mydanceclub_api_public_locations_get_location_stats", "summary": "Get Location Stats", "parameters": [{"in": "path", "name": "location_id", "schema": {"title": "Location Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReviewAggregatedLocationStatsSchema"}}}}}, "description": "Get stats for a location"}}, "/api/public/reviews/metadata": {"get": {"operationId": "mydanceclub_api_public_reviews_get_review_metadata", "summary": "Get Review Metadata", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReviewMetadataSchema"}}}}}, "description": "Get all metadata related to reviews"}}, "/api/public/metadata": {"get": {"operationId": "mydanceclub_api_public_metadata_get_metadata", "summary": "Get Metadata", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MetadataSchema"}}}}}, "description": "Get all metadata for the frontend"}}}, "components": {"schemas": {"TokenResponse": {"properties": {"access": {"title": "Access", "type": "string"}, "email": {"title": "Email", "type": "string"}}, "required": ["access", "email"], "title": "TokenResponse", "type": "object"}, "SignupSchema": {"properties": {"email": {"title": "Email", "type": "string"}, "password": {"title": "Password", "type": "string"}, "role": {"title": "Role", "type": "string"}}, "required": ["email", "password", "role"], "title": "SignupSchema", "type": "object"}, "LoginSchema": {"properties": {"email": {"title": "Email", "type": "string"}, "password": {"title": "Password", "type": "string"}}, "required": ["email", "password"], "title": "LoginSchema", "type": "object"}, "UserPrivateSchema": {"properties": {"id": {"title": "Id", "type": "string"}, "first_name": {"title": "First Name", "type": "string"}, "last_name": {"title": "Last Name", "type": "string"}, "bio": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Bio"}, "profile_picture": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Profile Picture"}, "email": {"title": "Email", "type": "string"}, "role": {"title": "Role", "type": "string"}}, "required": ["id", "first_name", "last_name", "bio", "profile_picture", "email", "role"], "title": "UserPrivateSchema", "type": "object"}, "DanceClassSchema": {"properties": {"name": {"title": "Name", "type": "string"}, "description": {"title": "Description", "type": "string"}, "level": {"title": "Level", "type": "string"}, "price": {"anyOf": [{"type": "number"}, {"type": "string"}], "title": "Price"}, "start_date": {"format": "date", "title": "Start Date", "type": "string"}, "end_date": {"format": "date", "title": "End Date", "type": "string"}, "location": {"anyOf": [{"$ref": "#/components/schemas/LocationSchema"}, {"type": "null"}]}, "style": {"title": "Style", "type": "string"}, "id": {"title": "Id", "type": "string"}, "instructor_id": {"title": "Instructor Id", "type": "string"}, "created_at": {"format": "date-time", "title": "Created At", "type": "string"}, "updated_at": {"format": "date-time", "title": "Updated At", "type": "string"}, "instructor": {"anyOf": [{"$ref": "#/components/schemas/InstructorPublicSchema"}, {"type": "null"}]}, "duration": {"title": "Duration", "type": "integer"}, "avg_rating": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Avg Rating"}}, "required": ["name", "description", "level", "price", "start_date", "end_date", "location", "style", "id", "instructor_id", "created_at", "updated_at", "instructor", "duration", "avg_rating"], "title": "DanceClassSchema", "type": "object"}, "Facilities": {"enum": ["parking", "changing_room", "lockers", "toilets", "shower", "air_conditioning", "mirrors", "led_lights", "ballet_barre", "poles", "chairs_available", "water_dispenser", "wifi_available", "floor_type_wood", "floor_type_marble", "floor_type_tile", "floor_type_concrete", "floor_type_carpet", "floor_type_soft", "high_ceiling", "low_ceiling", "good_acoustics", "audio_system__bluetooth", "audio_system__usb_c", "audio_system__mini_jack", "audio_system__other"], "title": "Facilities", "type": "string"}, "InstructorPublicSchema": {"description": "Public instructor information with stats", "properties": {"id": {"title": "Id", "type": "string"}, "first_name": {"title": "First Name", "type": "string"}, "last_name": {"title": "Last Name", "type": "string"}, "bio": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Bio"}, "profile_picture": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Profile Picture"}, "classes_count": {"title": "Classes Count", "type": "integer"}, "rating": {"title": "Rating", "type": "number"}, "reviews_count": {"title": "Reviews Count", "type": "integer"}}, "required": ["id", "first_name", "last_name", "bio", "profile_picture", "classes_count", "rating", "reviews_count"], "title": "InstructorPublicSchema", "type": "object"}, "LocationSchema": {"properties": {"id": {"title": "Id", "type": "string"}, "name": {"title": "Name", "type": "string"}, "address": {"title": "Address", "type": "string"}, "latitude": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Latitude"}, "longitude": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Longitude"}, "url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Url"}, "facilities": {"items": {"$ref": "#/components/schemas/Facilities"}, "title": "Facilities", "type": "array"}, "sports_card": {"items": {"$ref": "#/components/schemas/SportsCard"}, "title": "Sports Card", "type": "array"}}, "required": ["id", "name", "address", "facilities", "sports_card"], "title": "LocationSchema", "type": "object"}, "SportsCard": {"enum": ["multisport", "medicover", "ok_system", "benefit", "fitprofit", "other"], "title": "SportsCard", "type": "string"}, "ReviewAggregatedDanceClassStatsSchema": {"properties": {"group_size": {"title": "Group Size", "type": "number"}, "level": {"title": "Level", "type": "number"}, "engagement": {"title": "Engagement", "type": "number"}, "teaching_pace": {"title": "Teaching Pace", "type": "number"}, "avg_rating": {"title": "Avg Rating", "type": "number"}}, "required": ["group_size", "level", "engagement", "teaching_pace", "avg_rating"], "title": "ReviewAggregatedDanceClassStatsSchema", "type": "object"}, "ReviewDanceClassStatsSchema": {"properties": {"group_size": {"title": "Group Size", "type": "number"}, "level": {"title": "Level", "type": "number"}, "engagement": {"title": "Engagement", "type": "number"}, "teaching_pace": {"title": "Teaching Pace", "type": "number"}, "avg_rating": {"title": "Avg Rating", "type": "number"}, "id": {"title": "Id", "type": "string"}, "author_name": {"title": "Author Name", "type": "string"}, "comment": {"title": "Comment", "type": "string"}, "created_at": {"format": "date-time", "title": "Created At", "type": "string"}, "updated_at": {"format": "date-time", "title": "Updated At", "type": "string"}}, "required": ["group_size", "level", "engagement", "teaching_pace", "avg_rating", "id", "author_name", "comment", "created_at", "updated_at"], "title": "ReviewDanceClassStatsSchema", "type": "object"}, "ReviewListSchema_ReviewDanceClassStatsSchema_": {"properties": {"items": {"items": {"$ref": "#/components/schemas/ReviewDanceClassStatsSchema"}, "title": "Items", "type": "array"}, "total": {"title": "Total", "type": "integer"}, "page": {"title": "Page", "type": "integer"}, "pages": {"title": "Pages", "type": "integer"}, "has_next": {"title": "Has Next", "type": "boolean"}, "has_prev": {"title": "Has Prev", "type": "boolean"}}, "required": ["items", "total", "page", "pages", "has_next", "has_prev"], "title": "ReviewListSchema[ReviewDanceClassStatsSchema]", "type": "object"}, "ReviewAggregatedInstructorStatsSchema": {"properties": {"move_breakdown": {"title": "Move Breakdown", "type": "number"}, "individual_approach": {"title": "Individual Approach", "type": "number"}, "posture_correction_ability": {"title": "Posture Correction Ability", "type": "number"}, "communication_and_feedback": {"title": "Communication And Feedback", "type": "number"}, "patience_and_encouragement": {"title": "Patience And Encouragement", "type": "number"}, "motivation_and_energy": {"title": "Motivation And Energy", "type": "number"}, "avg_rating": {"title": "Avg Rating", "type": "number"}}, "required": ["move_breakdown", "individual_approach", "posture_correction_ability", "communication_and_feedback", "patience_and_encouragement", "motivation_and_energy", "avg_rating"], "title": "ReviewAggregatedInstructorStatsSchema", "type": "object"}, "ReviewAggregatedLocationStatsSchema": {"properties": {"cleanness": {"title": "Cleanness", "type": "number"}, "general_look": {"title": "General Look", "type": "number"}, "acustic_quality": {"title": "Acustic Quality", "type": "number"}, "additional_facilities": {"title": "Additional Facilities", "type": "number"}, "temperature": {"title": "Temperature", "type": "number"}, "lighting": {"title": "Lighting", "type": "number"}, "avg_rating": {"title": "Avg Rating", "type": "number"}}, "required": ["cleanness", "general_look", "acustic_quality", "additional_facilities", "temperature", "lighting", "avg_rating"], "title": "ReviewAggregatedLocationStatsSchema", "type": "object"}, "ReviewMetadataSchema": {"properties": {"temperature_options": {"default": ["cool", "moderate", "warm"], "items": {"type": "string"}, "title": "Temperature Options", "type": "array"}, "waiting_area_types": {"default": ["indoor", "outdoor", "both"], "items": {"type": "string"}, "title": "Waiting Area Types", "type": "array"}, "verification_methods": {"default": ["in_person", "video", "photo"], "items": {"type": "string"}, "title": "Verification Methods", "type": "array"}, "rating_scale": {"default": {"min": 1, "max": 5, "labels": {"1": "Poor", "2": "Fair", "3": "Good", "4": "Very Good", "5": "Excellent"}}, "title": "Rating Scale", "type": "object"}, "teaching_style_scale": {"default": {"min": 0, "max": 100, "labels": {"left": "Structured", "right": "Casual"}}, "title": "Teaching Style Scale", "type": "object"}, "feedback_approach_scale": {"default": {"min": 0, "max": 100, "labels": {"left": "Verbal", "right": "Hands-on"}}, "title": "Feedback Approach Scale", "type": "object"}, "pace_scale": {"default": {"min": 0, "max": 100, "labels": {"left": "Methodical", "right": "Fast-paced"}}, "title": "Pace Scale", "type": "object"}, "music_style_scale": {"default": {"min": 0, "max": 100, "labels": {"left": "Classical", "right": "Modern"}}, "title": "Music Style Scale", "type": "object"}}, "title": "ReviewMetadataSchema", "type": "object"}, "DanceStyle": {"enum": ["ballroom", "latin", "salsa", "tango", "other"], "title": "DanceStyle", "type": "string"}, "MetadataSchema": {"properties": {"dance_styles": {"items": {"$ref": "#/components/schemas/DanceStyle"}, "title": "Dance Styles", "type": "array"}, "skill_levels": {"items": {"$ref": "#/components/schemas/SkillLevel"}, "title": "Skill Levels", "type": "array"}, "sports_cards": {"items": {"$ref": "#/components/schemas/SportsCard"}, "title": "Sports Cards", "type": "array"}, "facilities": {"items": {"$ref": "#/components/schemas/Facilities"}, "title": "Facilities", "type": "array"}}, "required": ["dance_styles", "skill_levels", "sports_cards", "facilities"], "title": "MetadataSchema", "type": "object"}, "SkillLevel": {"enum": ["beginner", "intermediate", "advanced"], "title": "SkillLevel", "type": "string"}}, "securitySchemes": {"AuthBearer": {"type": "http", "scheme": "bearer"}}}, "servers": []}