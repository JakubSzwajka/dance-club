{"openapi": "3.1.0", "info": {"title": "NinjaAPI", "version": "1.0.0", "description": ""}, "paths": {"/api/auth/signup": {"post": {"operationId": "mydanceclub_api_private_auth_signup", "summary": "Signup", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TokenResponse"}}}}}, "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SignupSchema"}}}, "required": true}}}, "/api/auth/login": {"post": {"operationId": "mydanceclub_api_private_auth_login", "summary": "Login", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TokenResponse"}}}}}, "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/LoginSchema"}}}, "required": true}}}, "/api/auth/me": {"get": {"operationId": "mydanceclub_api_private_auth_me", "summary": "Me", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPrivateSchema"}}}}}, "security": [{"AuthBearer": []}]}}, "/api/public/classes": {"get": {"operationId": "mydanceclub_api_public_classes_get_classes", "summary": "Get Classes", "parameters": [{"in": "query", "name": "instructor_id", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Instructor Id"}, "required": false}, {"in": "query", "name": "location_id", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Location Id"}, "required": false}, {"in": "query", "name": "style", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Style"}, "required": false}, {"in": "query", "name": "level", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Level"}, "required": false}, {"in": "query", "name": "start_date", "schema": {"anyOf": [{"format": "date", "type": "string"}, {"type": "null"}], "title": "Start Date"}, "required": false}, {"in": "query", "name": "end_date", "schema": {"anyOf": [{"format": "date", "type": "string"}, {"type": "null"}], "title": "End Date"}, "required": false}, {"in": "query", "name": "min_rating", "schema": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Min Rating"}, "required": false}, {"in": "query", "name": "sort_by", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Sort By"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/DanceClassSchema"}, "title": "Response", "type": "array"}}}}}, "description": "Get all classes with filters"}}, "/api/public/classes/{class_id}": {"get": {"operationId": "mydanceclub_api_public_classes_get_class", "summary": "Get Class", "parameters": [{"in": "path", "name": "class_id", "schema": {"title": "Class Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DanceClassSchema"}}}}}, "description": "Get a class by ID"}}, "/api/public/classes/{class_id}/stats": {"get": {"operationId": "mydanceclub_api_public_classes_get_class_stats", "summary": "Get Class Stats", "parameters": [{"in": "path", "name": "class_id", "schema": {"title": "Class Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AggregatedReviewStatsSchema"}}}}}, "description": "Get comprehensive review statistics for a class"}}, "/api/public/classes/{class_id}/reviews": {"get": {"operationId": "mydanceclub_api_public_classes_get_class_reviews", "summary": "Get Class Reviews", "parameters": [{"in": "path", "name": "class_id", "schema": {"title": "Class Id", "type": "string"}, "required": true}, {"in": "query", "name": "page", "schema": {"default": 1, "title": "Page", "type": "integer"}, "required": false}, {"in": "query", "name": "page_size", "schema": {"default": 10, "title": "Page Size", "type": "integer"}, "required": false}, {"in": "query", "name": "sort_by", "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Sort By"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReviewListSchema"}}}}}, "description": "Get paginated reviews for a specific class"}}, "/api/public/instructors": {"get": {"operationId": "mydanceclub_api_public_instructors_get_instructors", "summary": "Get Instructors", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/InstructorPublicSchema"}, "title": "Response", "type": "array"}}}}}, "description": "Get all instructors"}}, "/api/public/instructors/{instructor_id}": {"get": {"operationId": "mydanceclub_api_public_instructors_get_instructor", "summary": "Get Instructor", "parameters": [{"in": "path", "name": "instructor_id", "schema": {"title": "Instructor Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InstructorPublicSchema"}}}}}, "description": "Get an instructor by ID"}}, "/api/public/instructors/{instructor_id}/classes": {"get": {"operationId": "mydanceclub_api_public_instructors_get_instructor_classes", "summary": "Get Instructor Classes", "parameters": [{"in": "path", "name": "instructor_id", "schema": {"title": "Instructor Id", "type": "string"}, "required": true}, {"in": "query", "name": "include_past", "schema": {"default": false, "title": "Include Past", "type": "boolean"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/DanceClassSchema"}, "title": "Response", "type": "array"}}}}}, "description": "Get all classes by an instructor"}}, "/api/public/locations": {"get": {"operationId": "mydanceclub_api_public_locations_get_locations", "summary": "Get Locations", "parameters": [{"in": "query", "name": "has_active_classes", "schema": {"default": true, "title": "Has Active Classes", "type": "boolean"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/LocationSchema"}, "title": "Response", "type": "array"}}}}}, "description": "Get locations, optionally filtered to those with active classes"}}, "/api/public/locations/{location_id}": {"get": {"operationId": "mydanceclub_api_public_locations_get_location", "summary": "Get Location", "parameters": [{"in": "path", "name": "location_id", "schema": {"title": "Location Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/LocationSchema"}}}}}}}, "/api/public/locations/{location_id}/classes": {"get": {"operationId": "mydanceclub_api_public_locations_get_location_classes", "summary": "Get Location Classes", "parameters": [{"in": "path", "name": "location_id", "schema": {"title": "Location Id", "type": "string"}, "required": true}, {"in": "query", "name": "include_past", "schema": {"default": false, "title": "Include Past", "type": "boolean"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/DanceClassSchema"}, "title": "Response", "type": "array"}}}}}, "description": "Get all classes at a location"}}, "/api/public/reviews/metadata": {"get": {"operationId": "mydanceclub_api_public_reviews_get_review_metadata", "summary": "Get Review Metadata", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReviewMetadataSchema"}}}}}, "description": "Get all metadata related to reviews"}}, "/api/public/metadata": {"get": {"operationId": "mydanceclub_api_public_metadata_get_metadata", "summary": "Get Metadata", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MetadataSchema"}}}}}, "description": "Get all metadata for the frontend"}}, "/api/private/instructors/{instructor_id}/classes": {"get": {"operationId": "mydanceclub_api_private_private_get_classes_by_instructor", "summary": "Get Classes By Instructor", "parameters": [{"in": "path", "name": "instructor_id", "schema": {"title": "Instructor Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/PrivateDanceClassSchema"}, "title": "Response", "type": "array"}}}}}, "security": [{"AuthBearer": []}]}, "post": {"operationId": "mydanceclub_api_private_private_create_class", "summary": "Create Class", "parameters": [{"in": "path", "name": "instructor_id", "schema": {"title": "Instructor Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PrivateDanceClassSchema"}}}}}, "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreateDanceClassSchema"}}}, "required": true}, "security": [{"AuthBearer": []}]}}, "/api/private/instructors/{instructor_id}/classes/{class_id}": {"get": {"operationId": "mydanceclub_api_private_private_get_class_by_id", "summary": "Get Class By Id", "parameters": [{"in": "path", "name": "instructor_id", "schema": {"title": "Instructor Id", "type": "string"}, "required": true}, {"in": "path", "name": "class_id", "schema": {"title": "Class Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PrivateDanceClassSchema"}}}}}, "security": [{"AuthBearer": []}]}}, "/api/private/instructors/{instructor_id}/stats": {"get": {"operationId": "mydanceclub_api_private_private_get_instructor_stats", "summary": "Get Instructor Stats", "parameters": [{"in": "path", "name": "instructor_id", "schema": {"title": "Instructor Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InstructorStatsSchema"}}}}}, "security": [{"AuthBearer": []}]}}}, "components": {"schemas": {"TokenResponse": {"properties": {"access": {"title": "Access", "type": "string"}, "email": {"title": "Email", "type": "string"}}, "required": ["access", "email"], "title": "TokenResponse", "type": "object"}, "SignupSchema": {"properties": {"email": {"title": "Email", "type": "string"}, "password": {"title": "Password", "type": "string"}, "role": {"title": "Role", "type": "string"}}, "required": ["email", "password", "role"], "title": "SignupSchema", "type": "object"}, "LoginSchema": {"properties": {"email": {"title": "Email", "type": "string"}, "password": {"title": "Password", "type": "string"}}, "required": ["email", "password"], "title": "LoginSchema", "type": "object"}, "UserPrivateSchema": {"properties": {"id": {"title": "Id", "type": "string"}, "first_name": {"title": "First Name", "type": "string"}, "last_name": {"title": "Last Name", "type": "string"}, "bio": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Bio"}, "profile_picture": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Profile Picture"}, "email": {"title": "Email", "type": "string"}, "role": {"title": "Role", "type": "string"}}, "required": ["id", "first_name", "last_name", "bio", "profile_picture", "email", "role"], "title": "UserPrivateSchema", "type": "object"}, "DanceClassSchema": {"properties": {"name": {"title": "Name", "type": "string"}, "description": {"title": "Description", "type": "string"}, "level": {"title": "Level", "type": "string"}, "max_capacity": {"title": "Max Capacity", "type": "integer"}, "price": {"anyOf": [{"type": "number"}, {"type": "string"}], "title": "Price"}, "start_date": {"format": "date", "title": "Start Date", "type": "string"}, "end_date": {"format": "date", "title": "End Date", "type": "string"}, "location": {"anyOf": [{"$ref": "#/components/schemas/LocationSchema"}, {"type": "null"}]}, "style": {"title": "Style", "type": "string"}, "id": {"title": "Id", "type": "string"}, "instructor_id": {"title": "Instructor Id", "type": "string"}, "current_capacity": {"title": "Current Capacity", "type": "integer"}, "created_at": {"format": "date-time", "title": "Created At", "type": "string"}, "updated_at": {"format": "date-time", "title": "Updated At", "type": "string"}, "instructor": {"anyOf": [{"$ref": "#/components/schemas/InstructorPublicSchema"}, {"type": "null"}]}}, "required": ["name", "description", "level", "max_capacity", "price", "start_date", "end_date", "location", "style", "id", "instructor_id", "current_capacity", "created_at", "updated_at", "instructor"], "title": "DanceClassSchema", "type": "object"}, "InstructorPublicSchema": {"description": "Public instructor information with stats", "properties": {"id": {"title": "Id", "type": "string"}, "first_name": {"title": "First Name", "type": "string"}, "last_name": {"title": "Last Name", "type": "string"}, "bio": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Bio"}, "profile_picture": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Profile Picture"}, "classes_count": {"title": "Classes Count", "type": "integer"}, "students_count": {"title": "Students Count", "type": "integer"}, "rating": {"title": "Rating", "type": "number"}, "reviews_count": {"title": "Reviews Count", "type": "integer"}}, "required": ["id", "first_name", "last_name", "bio", "profile_picture", "classes_count", "students_count", "rating", "reviews_count"], "title": "InstructorPublicSchema", "type": "object"}, "LocationSchema": {"properties": {"id": {"title": "Id", "type": "string"}, "name": {"title": "Name", "type": "string"}, "address": {"title": "Address", "type": "string"}, "latitude": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Latitude"}, "longitude": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Longitude"}, "url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Url"}}, "required": ["id", "name", "address"], "title": "LocationSchema", "type": "object"}, "AggregatedReviewStatsSchema": {"properties": {"total_reviews": {"title": "Total Reviews", "type": "integer"}, "verified_reviews": {"title": "Verified Reviews", "type": "integer"}, "average_rating": {"anyOf": [{"type": "number"}, {"type": "string"}], "title": "Average Rating"}, "instructor_stats": {"$ref": "#/components/schemas/ReviewInstructorStatsSchema"}, "facilities_stats": {"$ref": "#/components/schemas/ReviewFacilitiesStatsSchema"}, "dance_class_stats": {"$ref": "#/components/schemas/ReviewDanceClassStatsSchema"}}, "required": ["total_reviews", "verified_reviews", "average_rating", "instructor_stats", "facilities_stats", "dance_class_stats"], "title": "AggregatedReviewStatsSchema", "type": "object"}, "ReviewDanceClassStatsSchema": {"properties": {"group_size": {"title": "Group Size", "type": "number"}, "level": {"title": "Level", "type": "number"}, "engagement": {"title": "Engagement", "type": "number"}, "teaching_pace": {"title": "Teaching Pace", "type": "number"}}, "required": ["group_size", "level", "engagement", "teaching_pace"], "title": "ReviewDanceClassStatsSchema", "type": "object"}, "ReviewFacilitiesStatsSchema": {"properties": {"cleanness": {"title": "Cleanness", "type": "number"}}, "required": ["cleanness"], "title": "ReviewFacilitiesStatsSchema", "type": "object"}, "ReviewInstructorStatsSchema": {"properties": {"move_breakdown": {"title": "Move Breakdown", "type": "number"}}, "required": ["move_breakdown"], "title": "ReviewInstructorStatsSchema", "type": "object"}, "ReviewListSchema": {"properties": {"items": {"items": {"$ref": "#/components/schemas/ReviewResponseSchema"}, "title": "Items", "type": "array"}, "total": {"title": "Total", "type": "integer"}, "page": {"title": "Page", "type": "integer"}, "pages": {"title": "Pages", "type": "integer"}, "has_next": {"title": "Has Next", "type": "boolean"}, "has_prev": {"title": "Has Prev", "type": "boolean"}}, "required": ["items", "total", "page", "pages", "has_next", "has_prev"], "title": "ReviewListSchema", "type": "object"}, "ReviewResponseSchema": {"properties": {"id": {"title": "Id", "type": "string"}, "created_at": {"format": "date-time", "title": "Created At", "type": "string"}, "updated_at": {"format": "date-time", "title": "Updated At", "type": "string"}, "overall_rating": {"title": "Overall Rating", "type": "integer"}, "comment": {"title": "Comment", "type": "string"}, "instructor_stats": {"$ref": "#/components/schemas/ReviewInstructorStatsSchema"}, "facilities_stats": {"$ref": "#/components/schemas/ReviewFacilitiesStatsSchema"}, "dance_class_stats": {"$ref": "#/components/schemas/ReviewDanceClassStatsSchema"}, "author_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Author Name"}, "verified": {"default": false, "title": "Verified", "type": "boolean"}}, "required": ["id", "created_at", "updated_at", "overall_rating", "comment", "instructor_stats", "facilities_stats", "dance_class_stats", "author_name"], "title": "ReviewResponseSchema", "type": "object"}, "ReviewMetadataSchema": {"properties": {"temperature_options": {"default": ["cool", "moderate", "warm"], "items": {"type": "string"}, "title": "Temperature Options", "type": "array"}, "waiting_area_types": {"default": ["indoor", "outdoor", "both"], "items": {"type": "string"}, "title": "Waiting Area Types", "type": "array"}, "verification_methods": {"default": ["in_person", "video", "photo"], "items": {"type": "string"}, "title": "Verification Methods", "type": "array"}, "rating_scale": {"default": {"min": 1, "max": 5, "labels": {"1": "Poor", "2": "Fair", "3": "Good", "4": "Very Good", "5": "Excellent"}}, "title": "Rating Scale", "type": "object"}, "teaching_style_scale": {"default": {"min": 0, "max": 100, "labels": {"left": "Structured", "right": "Casual"}}, "title": "Teaching Style Scale", "type": "object"}, "feedback_approach_scale": {"default": {"min": 0, "max": 100, "labels": {"left": "Verbal", "right": "Hands-on"}}, "title": "Feedback Approach Scale", "type": "object"}, "pace_scale": {"default": {"min": 0, "max": 100, "labels": {"left": "Methodical", "right": "Fast-paced"}}, "title": "Pace Scale", "type": "object"}, "music_style_scale": {"default": {"min": 0, "max": 100, "labels": {"left": "Classical", "right": "Modern"}}, "title": "Music Style Scale", "type": "object"}}, "title": "ReviewMetadataSchema", "type": "object"}, "DanceStyle": {"enum": ["ballroom", "latin", "salsa", "tango", "other"], "title": "DanceStyle", "type": "string"}, "MetadataSchema": {"properties": {"dance_styles": {"items": {"$ref": "#/components/schemas/DanceStyle"}, "title": "Dance Styles", "type": "array"}, "skill_levels": {"items": {"$ref": "#/components/schemas/SkillLevel"}, "title": "Skill Levels", "type": "array"}, "music_genres": {"items": {"$ref": "#/components/schemas/MusicGenre"}, "title": "Music Genres", "type": "array"}, "sports_cards": {"items": {"$ref": "#/components/schemas/SportsCard"}, "title": "Sports Cards", "type": "array"}}, "required": ["dance_styles", "skill_levels", "music_genres", "sports_cards"], "title": "MetadataSchema", "type": "object"}, "MusicGenre": {"enum": ["pop", "rock", "jazz", "blues", "country", "hip_hop", "electronic", "classical", "other", "latin", "ballroom", "contemporary", "fusion"], "title": "MusicGenre", "type": "string"}, "SkillLevel": {"enum": ["beginner", "intermediate", "advanced"], "title": "SkillLevel", "type": "string"}, "SportsCard": {"enum": ["multisport", "medicover", "ok_system", "benefit", "fitprofit", "other"], "title": "SportsCard", "type": "string"}, "PrivateDanceClassSchema": {"properties": {"name": {"title": "Name", "type": "string"}, "description": {"title": "Description", "type": "string"}, "level": {"title": "Level", "type": "string"}, "max_capacity": {"title": "Max Capacity", "type": "integer"}, "price": {"anyOf": [{"type": "number"}, {"type": "string"}], "title": "Price"}, "start_date": {"format": "date", "title": "Start Date", "type": "string"}, "end_date": {"format": "date", "title": "End Date", "type": "string"}, "location": {"anyOf": [{"$ref": "#/components/schemas/LocationSchema"}, {"type": "null"}]}, "style": {"title": "Style", "type": "string"}, "id": {"title": "Id", "type": "string"}, "instructor_id": {"title": "Instructor Id", "type": "string"}, "current_capacity": {"title": "Current Capacity", "type": "integer"}, "created_at": {"format": "date-time", "title": "Created At", "type": "string"}, "updated_at": {"format": "date-time", "title": "Updated At", "type": "string"}, "instructor": {"anyOf": [{"$ref": "#/components/schemas/InstructorPublicSchema"}, {"type": "null"}]}}, "required": ["name", "description", "level", "max_capacity", "price", "start_date", "end_date", "location", "style", "id", "instructor_id", "current_capacity", "created_at", "updated_at", "instructor"], "title": "PrivateDanceClassSchema", "type": "object"}, "CreateDanceClassSchema": {"properties": {"name": {"title": "Name", "type": "string"}, "description": {"title": "Description", "type": "string"}, "level": {"title": "Level", "type": "string"}, "max_capacity": {"title": "Max Capacity", "type": "integer"}, "price": {"anyOf": [{"type": "number"}, {"type": "string"}], "title": "Price"}, "start_date": {"format": "date", "title": "Start Date", "type": "string"}, "end_date": {"format": "date", "title": "End Date", "type": "string"}, "location": {"anyOf": [{"$ref": "#/components/schemas/LocationSchema"}, {"type": "null"}]}, "style": {"title": "Style", "type": "string"}}, "required": ["name", "description", "level", "max_capacity", "price", "start_date", "end_date", "location", "style"], "title": "CreateDanceClassSchema", "type": "object"}, "InstructorStatsSchema": {"properties": {"total_classes": {"title": "Total Classes", "type": "integer"}, "total_students": {"title": "Total Students", "type": "integer"}, "average_capacity": {"title": "Average Capacity", "type": "number"}}, "required": ["total_classes", "total_students", "average_capacity"], "title": "InstructorStatsSchema", "type": "object"}}, "securitySchemes": {"AuthBearer": {"type": "http", "scheme": "bearer"}}}, "servers": []}